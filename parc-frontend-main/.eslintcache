[{"D:\\tahrire\\parc-frontend-main\\src\\index.js":"1","D:\\tahrire\\parc-frontend-main\\src\\Navbar.js":"2","D:\\tahrire\\parc-frontend-main\\src\\Entretiens.js":"3","D:\\tahrire\\parc-frontend-main\\src\\NewMission.js":"4","D:\\tahrire\\parc-frontend-main\\src\\api\\maintenances.js":"5","D:\\tahrire\\parc-frontend-main\\src\\api\\missions.js":"6","D:\\tahrire\\parc-frontend-main\\src\\Home.js":"7","D:\\tahrire\\parc-frontend-main\\src\\NewMaintenance.js":"8","D:\\tahrire\\parc-frontend-main\\src\\App.js":"9","D:\\tahrire\\parc-frontend-main\\src\\reportWebVitals.js":"10","D:\\tahrire\\parc-frontend-main\\src\\Rapports.js":"11","D:\\tahrire\\parc-frontend-main\\src\\EditMission.js":"12","D:\\tahrire\\parc-frontend-main\\src\\api\\cars.js":"13","D:\\tahrire\\parc-frontend-main\\src\\EditEntretien.js":"14","D:\\tahrire\\parc-frontend-main\\src\\Agents.js":"15","D:\\tahrire\\parc-frontend-main\\src\\NewAgents.js":"16","D:\\tahrire\\parc-frontend-main\\src\\api\\agents.js":"17","D:\\tahrire\\parc-frontend-main\\src\\EditAgents.js":"18","D:\\tahrire\\parc-frontend-main\\src\\CARS.js":"19","D:\\tahrire\\parc-frontend-main\\src\\NewCars.js":"20","D:\\tahrire\\parc-frontend-main\\src\\EditCars.js":"21","D:\\tahrire\\parc-frontend-main\\src\\Login.js":"22","D:\\tahrire\\parc-frontend-main\\src\\api\\login.js":"23","D:\\tahrire\\parc-frontend-main\\src\\store\\appContext.js":"24","D:\\tahrire\\parc-frontend-main\\src\\store\\flux.js":"25","D:\\tahrire\\parc-frontend-main\\src\\Accueil.js":"26","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\index.js":"27","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\NewMaintenance.js":"28","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\CARS.js":"29","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Rapports.js":"30","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\api\\missions.js":"31","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\App.js":"32","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Navbar.js":"33","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Agents.js":"34","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Home.js":"35","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Login.js":"36","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Accueil.js":"37","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\useToken.js":"38","C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Entretiens.js":"39"},{"size":589,"mtime":1614178629000,"results":"40","hashOfConfig":"41"},{"size":2141,"mtime":1621351525097,"results":"42","hashOfConfig":"41"},{"size":3199,"mtime":1622036234668,"results":"43","hashOfConfig":"41"},{"size":4994,"mtime":1625147979303,"results":"44","hashOfConfig":"41"},{"size":138,"mtime":1614178629000,"results":"45","hashOfConfig":"41"},{"size":130,"mtime":1614178629000,"results":"46","hashOfConfig":"41"},{"size":7661,"mtime":1625147808572,"results":"47","hashOfConfig":"41"},{"size":4994,"mtime":1622039813887,"results":"48","hashOfConfig":"41"},{"size":1742,"mtime":1625662106997,"results":"49","hashOfConfig":"41"},{"size":362,"mtime":1614178629000,"results":"50","hashOfConfig":"41"},{"size":3608,"mtime":1624789816140,"results":"51","hashOfConfig":"41"},{"size":6116,"mtime":1622039699548,"results":"52","hashOfConfig":"41"},{"size":125,"mtime":1620731508915,"results":"53","hashOfConfig":"41"},{"size":4348,"mtime":1622039860923,"results":"54","hashOfConfig":"41"},{"size":3058,"mtime":1622037477149,"results":"55","hashOfConfig":"41"},{"size":3139,"mtime":1621114656069,"results":"56","hashOfConfig":"41"},{"size":137,"mtime":1619609065230,"results":"57","hashOfConfig":"41"},{"size":3189,"mtime":1620737682563,"results":"58","hashOfConfig":"41"},{"size":4557,"mtime":1621128883573,"results":"59","hashOfConfig":"41"},{"size":4730,"mtime":1621428681531,"results":"60","hashOfConfig":"41"},{"size":4836,"mtime":1624727088158,"results":"61","hashOfConfig":"41"},{"size":4839,"mtime":1625664062404,"results":"62","hashOfConfig":"41"},{"size":135,"mtime":1625152972377,"results":"63","hashOfConfig":"41"},{"size":1762,"mtime":1625492455577,"results":"64","hashOfConfig":"41"},{"size":945,"mtime":1625490443709,"results":"65","hashOfConfig":"41"},{"size":1532,"mtime":1625662224628,"results":"66","hashOfConfig":"41"},{"size":589,"mtime":1614178629000,"results":"67","hashOfConfig":"68"},{"size":4994,"mtime":1622039813887,"results":"69","hashOfConfig":"68"},{"size":4557,"mtime":1621128883573,"results":"70","hashOfConfig":"68"},{"size":3608,"mtime":1624789816140,"results":"71","hashOfConfig":"68"},{"size":130,"mtime":1614178629000,"results":"72","hashOfConfig":"68"},{"size":2012,"mtime":1625933899218,"results":"73","hashOfConfig":"68"},{"size":2630,"mtime":1626018027644,"results":"74","hashOfConfig":"68"},{"size":3058,"mtime":1622037477149,"results":"75","hashOfConfig":"68"},{"size":7661,"mtime":1625147808572,"results":"76","hashOfConfig":"68"},{"size":3370,"mtime":1626018386143,"results":"77","hashOfConfig":"68"},{"size":1540,"mtime":1625928583959,"results":"78","hashOfConfig":"68"},{"size":491,"mtime":1625931624349,"results":"79","hashOfConfig":"68"},{"size":3199,"mtime":1622036234668,"results":"80","hashOfConfig":"68"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},"3blcoc",{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"99"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"83"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"83"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"83"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"132"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},"l7d690",{"filePath":"150","messages":"151","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"152","messages":"153","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\tahrire\\parc-frontend-main\\src\\index.js",[],["174","175"],"D:\\tahrire\\parc-frontend-main\\src\\Navbar.js",[],["176","177"],"D:\\tahrire\\parc-frontend-main\\src\\Entretiens.js",[],"D:\\tahrire\\parc-frontend-main\\src\\NewMission.js",[],"D:\\tahrire\\parc-frontend-main\\src\\api\\maintenances.js",[],["178","179"],"D:\\tahrire\\parc-frontend-main\\src\\api\\missions.js",[],"D:\\tahrire\\parc-frontend-main\\src\\Home.js",["180","181","182","183"],"import React, { useEffect, useReducer, useState } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from \"recharts\";\nimport { format } from \"date-fns\";\nimport { PDFExport, savePDF } from '@progress/kendo-react-pdf';\nimport { useRef } from 'react';\nimport PrintIcon from '@material-ui/icons/Print';\nimport ReactExport from 'react-data-export';\n\n\n\n\n\nfunction reducer(state, { field, value }) {\n  return {\n    ...state,\n    [field]: value,\n  };\n}\n\nconst date = new Date();\n\nfunction aggregateByCarMat(missions = []) {\n  const initialState = {};\n\n  const reducer = (aggregatedArr, currentValue) => {\n    const car_mat = currentValue[\"car_mat\"];\n    return {\n      ...aggregatedArr,\n      [car_mat]: {\n        car_mat,\n        carburant:\n          currentValue.carburant + (aggregatedArr?.[car_mat]?.carburant || 0),\n        distance:\n          currentValue.distance + (aggregatedArr?.[car_mat]?.distance || 0),\n      },\n    };\n  };\n\n  return missions.reduce(reducer, initialState);\n}\n\n\nvar sommeC = 0 ; \nvar sommeD =0 ;\nfunction Home() {\n  const [{ startDate, endDate }, dispatch] = useReducer(reducer, {\n    startDate: new Date(date.getFullYear(), date.getMonth(), 2)\n      .toISOString()\n      .slice(0, 10),\n    endDate: new Date().toISOString().slice(0, 10),\n  });\n  const [chartData, setChartData] = useState();\n  const [entretiens, setEntretiens] = useState([]);\n\n  const handleChange = (event) => {\n    dispatch({ field: event.target.name, value: event.target.value });\n  };\n\n  useEffect(() => {\n    let ignore = false;\n\n    async function fetchData() {\n      const [missionsResp, entretiensResp] = await Promise.all([\n        fetch(`/missions/get?startDate=${startDate}&endDate=${endDate}`),\n        fetch(`/maintenances/get?startDate=${startDate}&endDate=${endDate}`),\n      ]);\n      const missions = await missionsResp.json();\n      const entretiens = await entretiensResp.json();\n      setEntretiens(entretiens);\n\n      /*missions.map((obj,index)=>{\n        sommeC = sommeC+ obj.carburant\n        sommeD = sommeD+obj.distance\n      })\n      console.log(sommeC);\n      console.log(sommeD);*/\n      //console.log(missions);\n      const missionsByCarMat = aggregateByCarMat(missions);\n      console.log(missionsByCarMat)\n      if (!ignore) setChartData(Object.values(missionsByCarMat));\n      \n      //console.log(chartData);\n    }\n\n    fetchData();\n    return () => {\n      ignore = true;\n    };\n  }, [startDate, endDate]);\n\n  const sortedEntretiens = entretiens.sort((a, b) =>\n    a.car_mat > b.car_mat ? 1 : a.car_mat < b.car_mat ? -1 : 0\n  );\n\n  const mats = [\n    { mat: \"546\", date: \"12-02-2020\", montant: \"30\", total: \"80\" },\n    { date: \"10-12-2015\", montant: \"50\" },\n    { mat: \"390\", date: \"10-01-2021\", montant: \"39\", total: \"39\" },\n  ];\n\n\n  // imprimer \n  const pdfExportComponent = useRef(null);\n\n  const handleExportWithComponent = (event) => {\n    pdfExportComponent.current.save();\n  }\n\n// exel \n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n\nconst DataSet = [\n  {\n    columns : [\n        {title:\"Voiture\",style:{font:{sz:\"18\",bold:true}},width:{wpx:125}},\n        {title:\"Date\",style:{font:{sz:\"18\",bold:true}},width:{wpx:125}},\n        {title:\"description\",style:{font:{sz:\"18\",bold:true}},width:{wch:125}},\n        {title:\"Montant\",style:{font:{sz:\"18\",bold:true}},width:{wpx:125}},\n        {title:\"Total\",style:{font:{sz:\"18\",bold:true}},width:{wpx:125}},\n    ],\n    data : sortedEntretiens.map((data)=>[\n      {value : data.car_mat,style:{font:{sz:\"14\"}}},\n      {value : data.date,style:{font:{sz:\"14\"}}},\n      {value : data.description,style:{font:{sz:\"14\"}}},\n      {value : data.montant,style:{font:{sz:\"14\"}}},\n    ])\n  }\n]\n \n\n  return (\n\n   \n    <div>\n      <PDFExport ref={pdfExportComponent} >\n      <div style={{margin:'0 20px '}}>\n        <button primary={true} onClick={handleExportWithComponent}><PrintIcon ></PrintIcon>imprimer</button> \n        &nbsp;  &nbsp;\n        {sortedEntretiens.length !== 0 ? (\n          <ExcelFile \n          fileName = \"rapport exel\"\n          element={<button type=\"button\" style={{color:'green '}}>export data to excel</button>}>\n            <ExcelSheet dataSet={DataSet} name=\"rapport exel\"/>\n          </ExcelFile>\n        ): null}\n      </div>\n      \n      <p className=\"text-center mt-4\">\n        Suivi Kilometrage, Consommation et Entretien entre &nbsp;\n        <input\n          name=\"startDate\"\n          type=\"date\"\n          className=\"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n          value={startDate}\n          onChange={handleChange}\n        />\n        &nbsp; et &nbsp;\n        <input\n          name=\"endDate\"\n          type=\"date\"\n          className=\"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n          value={endDate}\n          onChange={handleChange}\n        />\n      </p>\n      \n              \n      <BarChart\n        width={500}\n        height={300}\n        data={chartData}\n        margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n        style={{ margin: \"20px auto\" }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"car_mat\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        <Bar\n          dataKey=\"distance\"\n          fill=\"#2980b9\"\n          name=\"Kilometrage\"\n          label={{ position: \"top\" }}\n        />\n        <Bar\n          dataKey=\"carburant\"\n          fill=\"#f1c40f\"\n          name=\"Carburant\"\n          label={{ position: \"top\" }}\n        />\n      </BarChart>\n      \n      <hr />\n     \n      <table className=\"table-auto m-auto mt-3\">\n        <caption>Entretiens effectués ce mois:</caption>\n        <thead>\n          <tr>\n            <th className=\"px-4 py-2\">Voiture</th>\n            <th className=\"px-4 py-2\">Date</th>\n            <th className=\"px-4 py-2\">description</th>\n            {/* <th className=\"px-4 py-2\">Description</th> */}\n            <th className=\"px-4 py-2\">Montant</th>\n            {/* <th className=\"px-4 py-2\">Total</th> */}\n          </tr>\n        </thead>\n        <tbody>\n          {sortedEntretiens.map(\n            ({ id, car_mat, description, montant, date }) => (\n              <tr key={id}>\n                <td className=\"border px-4 py-2\">{car_mat}</td>\n                <td className=\"border px-4 py-2\">\n                  {format(new Date(date), \"dd/MM/yyyy\")}\n                </td>\n                <td className=\"border px-4 py-2\">{description}</td>\n                <td className=\"border px-4 py-2\">{montant}</td>\n                {/* <td className=\"border px-4 py-2\" rowSpan=\"2\">\n                  100\n                </td> */}\n              </tr>\n            )\n          )}\n          {/* <tr>\n            <td className=\"px-4 py-2 border\" rowspan=\"2\">\n              Voiture 1\n            </td>\n            <td className=\"px-4 py-2 border\">12.01.2021</td>\n            <td className=\"px-4 py-2 border\">30</td>\n            <td className=\"px-4 py-2 border\" rowspan=\"2\">\n              100\n            </td>\n          </tr>\n          <tr>\n            <td className=\"px-4 py-2 border\">04.05.2009</td>\n            <td className=\"px-4 py-2 border\">70</td>\n          </tr>\n          <tr>\n            <td className=\"px-4 py-2 border\">Voiture 2</td>\n            <td className=\"px-4 py-2 border\">12.10.2050</td>\n            <td className=\"px-4 py-2 border\">50</td>\n            <td className=\"px-4 py-2 border\">50</td>\n          </tr> */}\n        </tbody>\n      </table>\n      </PDFExport>\n    </div>\n  );\n}\n\nexport default Home ;\n",["184","185"],"D:\\tahrire\\parc-frontend-main\\src\\NewMaintenance.js",["186","187"],"import React, { useReducer,useState,useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getCars } from \"./api/cars\";\nimport CARS from \"./CARS\";\n\nfunction getPreviousDayDate() {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() - 1);\n  return currentDate.toISOString().slice(0, 10);\n}\n\nconst initalState = {\n  date: getPreviousDayDate(),\n  car_mat: \"196TU7741\",\n  montant: 0,\n  description: \"\",\n  \n};\n\nfunction reducer(state, { field, value }) {\n  return {\n    ...state,\n    [field]: value,\n  };\n}\n\nfunction NewMaintenance() {\n\n  const [state, dispatch] = useReducer(reducer, initalState);\n  let navigate = useNavigate();\n  \n  const [cars, setcars] = useState([]);\n\n  /*const [selectetdFile, setSelectedFile] = useState([]);\n  const [fileBase64String, setFileBase64String] = useState(\"\");\n\n  const onFileChange = (e) => {\n    setSelectedFile(e.target.files);\n    console.log(e.target.files[0]);\n    console.log(e.target.files[0].name);\n    console.log(e.target.files[0].size);\n    console.log(e.target.files[0].type);\n  };\n\n  const encodeFileBase64 = (file) => {\n    var reader = new FileReader();\n    if (file) {\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        var Base64 = reader.result;\n        console.log(Base64);\n        setFileBase64String(Base64);\n      };\n      reader.onerror = (error) => {\n        console.log(\"error: \", error);\n      };\n    }\n  };*/\n\n  useEffect(() => {\n\n    let ignore = false;\n\n    async function fetchData() {\n      const data = await getCars();\n      console.log(data)\n      if (!ignore){\n        setcars(data);\n      } \n\n    }\n\n    fetchData();\n    //getdistance();\n    return () => {\n      ignore = true;\n    };\n  }, []);\n\n\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const response = await fetch(\"/maintenances/create\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(state),\n      });\n      await response.json();\n      navigate(\"/entretiens\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleChange = (event) => {\n    dispatch({ field: event.target.name, value: event.target.value });\n  };\n\n  const { date, car_mat, montant, description } = state;\n\n var mat ;\n\n  return (\n    <div style={{ width: 700, margin: \"10px auto\" }}>\n      <form className=\"grid grid-cols-1 gap-6\" onSubmit={handleSubmit}>\n        <label className=\"block\">\n          <span className=\"text-gray-700\">Date</span>\n          <input\n            name=\"date\"\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n            type=\"date\"\n            value={date}\n            onChange={handleChange}\n          />\n        </label>\n        <label className=\"block\">\n          <span className=\"text-gray-700\">Voiture</span>\n          <select\n            className=\"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n            name=\"car_mat\"\n            value={car_mat}\n            onChange={handleChange}\n          > \n             {cars.map(\n            ({ matricule}) => (\n              <option value={matricule}>{matricule}</option>\n             )\n            )}\n\n          </select>\n        </label>\n        <label className=\"block\">\n          <span className=\"text-gray-700\">Montant</span>\n          <input\n            type=\"number\"\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n            name=\"montant\"\n            value={montant}\n            placeholder=\"Montant\"\n            onChange={handleChange}\n          />\n        </label>\n        <label className=\"block\">\n          <span className=\"text-gray-700\">Description</span>\n          <textarea\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n            rows=\"3\"\n            spellCheck=\"false\"\n            name=\"description\"\n            value={description}\n            onChange={handleChange}\n          />\n        </label>\n        <label className=\"block\">\n          <span className=\"text-gray-700\">Facture</span>\n          <input\n            type=\"file\"\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n            name=\"facture\"\n            placeholder=\"Facture\"\n            onChange={handleChange}\n          />\n        </label>\n        <button\n          type=\"submit\"\n          className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\"\n        >\n          Ajouter\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default NewMaintenance;\n",["188","189"],"D:\\tahrire\\parc-frontend-main\\src\\App.js",["190","191","192","193","194","195","196","197","198","199","200","201","202","203"],"D:\\tahrire\\parc-frontend-main\\src\\reportWebVitals.js",[],"D:\\tahrire\\parc-frontend-main\\src\\Rapports.js",[],"D:\\tahrire\\parc-frontend-main\\src\\EditMission.js",["204","205","206","207"],"import axios from \"axios\";\r\nimport React, {useEffect, useState,useReducer } from \"react\";\r\nimport { getMissions } from \"./api/missions\";\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getCars } from \"./api/cars\";\r\nimport { getAgents } from \"./api/agents\";\r\n\r\n/*function getPreviousDayDate() {\r\n  const currentDate = new Date();\r\n  currentDate.setDate(currentDate.getDate() - 1);\r\n  return currentDate.toISOString().slice(0, 10);\r\n}\r\n\r\nconst initalState = {\r\n  date: getPreviousDayDate(),\r\n  car_mat: \"196TU7741\",\r\n  chauffeur_id: \"385\",\r\n  nom: \"\",\r\n  distance: 0,\r\n  carburant: 0,\r\n};\r\n\r\nfunction reducer(state, { field, value }) {\r\n  return {\r\n    ...state,\r\n    [field]: value,\r\n  };\r\n}*/\r\n\r\nfunction EditMission() {\r\n\r\n   \r\n  let navigate = useNavigate();\r\n  const {id} = useParams();\r\n  const [cars, setcars] = useState([]);\r\n  const [agents, setAgents] = useState([]);\r\n\r\n\r\n  \r\n  const [missions, setMissions] = useState({\r\n    date: \"\",\r\n    car_mat: \"\",\r\n    chauffeur_id: \"\",\r\n    nom: \"\",\r\n    distance: \"\",\r\n    carburant: \"\"\r\n  });\r\n \r\n  \r\n\r\n  const { date, car_mat, chauffeur_id, nom, distance, carburant } = missions;\r\n\r\n  const handleChange =  e => {\r\n    setMissions({ ...missions,[e.target.name]:e.target.value});\r\n  };\r\n\r\n  \r\n\r\n\r\n  \r\n\r\n  \r\n  /*const update = async () => {\r\n\r\n        const resultat = await fetch('http://127.0.0.1:5000/missions/modifier/'+id,{\r\n              method:'PUT'\r\n          });\r\n          const res = await resultat.json();\r\n          console.log(res);\r\n          navigate(\"/rapports\");\r\n    \r\n          \r\n  }*/\r\n \r\n  \r\n\r\n  useEffect(() => {\r\n    loadMissions();\r\n    let ignore = false;\r\n\r\n    async function fetchData() {\r\n      const data = await getCars();\r\n      const dataA = await getAgents();\r\n      console.log(data)\r\n      if (!ignore){\r\n        setcars(data);\r\n        setAgents(dataA);\r\n      } \r\n\r\n    }\r\n\r\n    fetchData();\r\n    //getdistance();\r\n    return () => {\r\n      ignore = true;\r\n    };\r\n  }, []);\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    await axios.put(`http://localhost:5000/missions/modifier/${id}`, missions);\r\n    navigate(\"/rapports\");\r\n  }; \r\n \r\n  const loadMissions = async () => {\r\n    const result = await axios.get(`http://localhost:5000/missions/getone/${id}`);\r\n   setMissions(result.data[0]);\r\n    \r\n  };\r\n\r\n\r\n/* const loadMissions = async ()=>{\r\nconst result = await axios.get(\"http://127.0.0.1:5000/missions/getone/\"+id);\r\nconsole.log(result.data); \r\n\r\n \r\n } */\r\n\r\n \r\n    return (\r\n        <div style={{ width: 700, margin: \"10px auto\" }}>\r\n        <form className=\"grid grid-cols-1 gap-6\" onSubmit={e => onSubmit(e)}>\r\n        <label className=\"block\">\r\n            <span className=\"text-gray-700\">Mission</span>\r\n            <input\r\n              type=\"text\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"nom\"\r\n              value={nom}\r\n              placeholder=\"Mission\"\r\n              onChange={e=>handleChange(e)}\r\n            />\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Voiture</span>\r\n            <select\r\n              className=\"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"car_mat\"\r\n              value={car_mat}\r\n              onChange={e=>handleChange(e)}\r\n            >\r\n             {cars.map(\r\n            ({ matricule}) => (\r\n              <option value={matricule}>{matricule}</option>\r\n             )\r\n            )}\r\n            </select>\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Chauffeur</span>\r\n            <select\r\n              className=\"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"chauffeur_id\"\r\n              value={chauffeur_id}\r\n              onChange={e=>handleChange(e)}\r\n            >\r\n              {agents.map(\r\n            ({ idA}) => (\r\n              <option value={idA}>{idA}</option>\r\n             )\r\n            )}\r\n            </select>\r\n          </label>\r\n\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Kilométrage</span>\r\n            <input\r\n              type=\"number\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"distance\"\r\n              placeholder=\"Kilométrage\"\r\n              value={distance}\r\n              onChange={e=>handleChange(e)}  />\r\n          </label>\r\n\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Carburant</span>\r\n            <input\r\n              type=\"number\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"carburant\"\r\n              placeholder=\"Carburant\"\r\n              value={carburant}\r\n              onChange={e=>handleChange(e)}   />\r\n          </label>\r\n          \r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Date</span>\r\n            <input\r\n              name=\"date\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              type=\"date\"\r\n              value={date}\r\n              onChange={e=>handleChange(e)}   />\r\n          </label>\r\n         \r\n         \r\n         \r\n          \r\n          \r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\"\r\n            \r\n          >\r\n           modifier\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default EditMission;\r\n\r\n","D:\\tahrire\\parc-frontend-main\\src\\api\\cars.js",[],"D:\\tahrire\\parc-frontend-main\\src\\EditEntretien.js",["208","209","210"],"import axios from \"axios\";\r\nimport React, {useEffect, useState,useReducer } from \"react\";\r\nimport { getMaintenances } from \"./api/maintenances\";\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\nimport { getCars } from \"./api/cars\";\r\n\r\n\r\n\r\nfunction EditEntretien() {\r\n\r\n   \r\n  let navigate = useNavigate();\r\n  const {id} = useParams();\r\n  const [cars, setcars] = useState([]);\r\n\r\n  const [maintenances, setMaintenances] = useState({\r\n    date: \"\",\r\n    car_mat: \"\",\r\n    montant: \"\",\r\n    description: \"\"\r\n    \r\n  });\r\n \r\n  \r\n\r\n  const { date, car_mat, montant, description } = maintenances;\r\n\r\n  const handleChange =  e => {\r\n    setMaintenances({ ...maintenances,[e.target.name]:e.target.value});\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    loadEntretiens();\r\n    let ignore = false;\r\n\r\n    async function fetchData() {\r\n      const data = await getCars();\r\n      console.log(data)\r\n      if (!ignore){\r\n        setcars(data);\r\n      } \r\n\r\n    }\r\n\r\n    fetchData();\r\n    //getdistance();\r\n    return () => {\r\n      ignore = true;\r\n    };\r\n  }, []);\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    await axios.put(`http://localhost:5000/maintenances/modifier/${id}`, maintenances);\r\n    navigate(\"/entretiens\");\r\n  }; \r\n \r\n  const loadEntretiens = async () => {\r\n    const result = await axios.get(`http://localhost:5000/maintenances/getone/${id}`);\r\n    setMaintenances(result.data[0]);\r\n    \r\n  };\r\n\r\n\r\n\r\n\r\n \r\n    return (\r\n        <div style={{ width: 700, margin: \"10px auto\" }}>\r\n        <form className=\"grid grid-cols-1 gap-6\" onSubmit={e => onSubmit(e)}>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Date</span>\r\n            <input\r\n              name=\"date\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              type=\"date\"\r\n              value={date}\r\n              onChange={e=>handleChange(e)}\r\n            />\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Voiture</span>\r\n            <select\r\n              className=\"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"car_mat\"\r\n              value={car_mat}\r\n              onChange={e=>handleChange(e)}\r\n            >\r\n               {cars.map(\r\n                ({ matricule}) => (\r\n                  <option value={matricule}>{matricule}</option>\r\n                )\r\n                )}\r\n            </select>\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Montant</span>\r\n            <input\r\n              type=\"number\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"montant\"\r\n              value={montant}\r\n              placeholder=\"Montant\"\r\n              onChange={e=>handleChange(e)}\r\n            />\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Description</span>\r\n            <textarea\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              rows=\"3\"\r\n              spellCheck=\"false\"\r\n              name=\"description\"\r\n              value={description}\r\n              onChange={e=>handleChange(e)}\r\n            />\r\n          </label>\r\n          <label className=\"block\">\r\n            <span className=\"text-gray-700\">Facture</span>\r\n            <input\r\n              type=\"file\"\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n              name=\"facture\"\r\n              placeholder=\"Facture\"\r\n              onChange={e=>handleChange(e)}\r\n            />\r\n          </label>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\"\r\n          >\r\n            modifier\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default EditEntretien;\r\n\r\n","D:\\tahrire\\parc-frontend-main\\src\\Agents.js",["211"],"import React, {  useEffect, useState } from \"react\";\r\nimport { getAgents } from \"./api/agents\";\r\nimport { format } from \"date-fns\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nfunction Agents() {\r\n\r\n  \r\n\r\n // const [state] = useReducer(reducer, initalState);\r\n  const [agents, setAgents] = useState([]);\r\n  \r\n\r\n \r\n  const getM = async ()=>{\r\n    const res = await fetch ('http://127.0.0.1:5000/agents/')\r\n    const d = await res.json();\r\n    setAgents(d);\r\n  }\r\n\r\n  useEffect(() => {\r\n    let ignore = false;\r\n\r\n    async function fetchData() {\r\n      const data = await getAgents();\r\n      console.log(data)\r\n      if (!ignore) setAgents(data);\r\n    }\r\n\r\n    fetchData();\r\n    return () => {\r\n      ignore = true;\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure  ?')){\r\n        const resultat = await fetch('http://127.0.0.1:5000/agents/delete/'+id,{\r\n              method:'DELETE'\r\n          });\r\n          const res = await resultat.json();\r\n          console.log(res);\r\n          await getM();\r\n    }\r\n          \r\n  }\r\n\r\n\r\n \r\n\r\n \r\n  \r\n\r\n  return (\r\n    <div style={{ width: 1200, margin: \"10px auto\" }}>\r\n\r\n           <NavLink to=\"/nouveau-agents\">\r\n            <button\r\n            type=\"submit\"\r\n            className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\">\r\n\r\n            Ajouter un chauffeur \r\n          </button >\r\n          </NavLink>\r\n\r\n      <table className=\"table-auto m-auto\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"px-4 py-2\">ID</th>\r\n            <th className=\"px-4 py-2\">Numero Cin</th>\r\n            <th className=\"px-4 py-2\">Nom</th>\r\n            <th className=\"px-4 py-2\">Date d’embauche</th>\r\n            <th className=\"px-4 py-2\" colSpan=\"2\">Operations</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {agents.map(\r\n            ({ id,idA, cin, nom,date}) => (\r\n              <tr key={id}>\r\n                <td className=\"border px-4 py-2\">{idA}</td>\r\n                <td className=\"border px-4 py-2\">{cin}</td>\r\n                <td className=\"border px-4 py-2\">{nom}</td>\r\n                <td className=\"border px-4 py-2\">{date}</td>\r\n                <td>   <NavLink to={\"/EditAgents/\"+id}>\r\n                        <button type=\"submit\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 \" >\r\n                            \r\n                          modifier\r\n                        </button >\r\n                        </NavLink>\r\n                </td>\r\n                <td>\r\n                        <button type=\"submit\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 \"  onClick={()=>handleDelete(id)}>\r\n                            \r\n                           supprimer\r\n                        </button >\r\n                    \r\n                </td>\r\n              </tr>\r\n            )\r\n          )}\r\n            \r\n        </tbody>\r\n      </table>\r\n      <center>\r\n         \r\n      </center> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Agents;\r\n","D:\\tahrire\\parc-frontend-main\\src\\NewAgents.js",[],"D:\\tahrire\\parc-frontend-main\\src\\api\\agents.js",[],"D:\\tahrire\\parc-frontend-main\\src\\EditAgents.js",["212","213","214"],"import axios from \"axios\";\r\nimport React, {useEffect, useState,useReducer } from \"react\";\r\nimport { getAgents } from \"./api/agents\";\r\nimport { useNavigate , useParams } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nfunction EditAgents() {\r\n\r\n   \r\n  let navigate = useNavigate();\r\n  const {id} = useParams();\r\n\r\n  const [agents, setagents] = useState({\r\n    idA :\"\",\r\n    cin : \"\",\r\n    nom: \"\",\r\n    date:\"\",\r\n    \r\n  });\r\n \r\n  \r\n\r\n  const {idA,cin,nom,date} = agents;\r\n\r\n  const handleChange =  e => {\r\n    setagents({ ...agents,[e.target.name]:e.target.value});\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    loadagents();\r\n  }, []);\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    await axios.put(`http://localhost:5000/agents/modifier/${id}`, agents);\r\n    navigate(\"/agents\");\r\n  }; \r\n \r\n  const loadagents = async () => {\r\n    const result = await axios.get(`http://localhost:5000/agents/getone/${id}`);\r\n    setagents(result.data[0]);\r\n    \r\n  };\r\n\r\n\r\n\r\n\r\n \r\n    return (\r\n        <div style={{ width: 700, margin: \"10px auto\" }}>\r\n        <form className=\"grid grid-cols-1 gap-6\" onSubmit={e => onSubmit(e)}>\r\n        <label className=\"block\">\r\n          <span className=\"text-gray-700\">ID</span>\r\n          <input\r\n            type=\"Number\"\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n            name=\"idA\"\r\n            value={idA}\r\n            onChange={e=>handleChange(e)}\r\n            placeholder=\"ID\"\r\n            disabled\r\n          />\r\n        </label>\r\n        <label className=\"block\">\r\n          <span className=\"text-gray-700\">cin</span>\r\n          <input\r\n            type=\"Number\"\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n            name=\"cin\"\r\n            value={cin}\r\n            onChange={e=>handleChange(e)}\r\n            placeholder=\"numero cin\"\r\n          />\r\n        </label>\r\n        <label className=\"block\">\r\n          <span className=\"text-gray-700\">nom</span>\r\n          <input\r\n            type=\"text\"\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n            name=\"nom\"\r\n            placeholder=\"nom\"\r\n            value={nom}\r\n            onChange={e=>handleChange(e)}\r\n          />\r\n        </label>\r\n        <label className=\"block\">\r\n          <span className=\"text-gray-700\">Date d’embauche</span>\r\n          <input\r\n            name=\"date\"\r\n            className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\r\n            type=\"date\"\r\n            value={date}\r\n            onChange={e=>handleChange(e)}\r\n          />\r\n        </label>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\"\r\n          >\r\n            modifier\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default EditAgents;\r\n\r\n",["215","216"],"D:\\tahrire\\parc-frontend-main\\src\\CARS.js",["217","218","219","220"],"import React, {  useEffect, useState } from \"react\";\r\nimport { getCars } from \"./api/cars\";\r\nimport { getMissions } from \"./api/missions\";\r\nimport { format } from \"date-fns\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nfunction CARS() {\r\n\r\n  \r\n\r\n // const [state] = useReducer(reducer, initalState);\r\n  const [cars, setcars] = useState([]);\r\n  const [mission,setmission] =  useState([]);\r\n\r\n \r\n  const getM = async ()=>{\r\n    const res = await fetch ('http://127.0.0.1:5000/cars/')\r\n    const d = await res.json();\r\n    setcars(d);\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n\r\n    let ignore = false;\r\n\r\n    async function fetchData() {\r\n      const data = await getCars();\r\n      const dataM = await getMissions();\r\n      console.log(data)\r\n      if (!ignore){\r\n        setcars(data);\r\n        setmission(dataM);\r\n      } \r\n\r\n    }\r\n\r\n    fetchData();\r\n    //getdistance();\r\n    return () => {\r\n      ignore = true;\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure  ?')){\r\n        const resultat = await fetch('http://127.0.0.1:5000/cars/delete/'+id,{\r\n              method:'DELETE'\r\n          });\r\n          const res = await resultat.json();\r\n          console.log(res);\r\n          await getM();\r\n    }\r\n          \r\n  }\r\n\r\n  \r\n  \r\n \r\n  /*const getdistance = async ()=>{\r\n    const res = await fetch ('http://127.0.0.1:5000/missions/getDistance/196TU7741')\r\n    const d = await res.json();\r\n    console.log(d);\r\n  }*/\r\n\r\n var somme ;\r\n  \r\n\r\n  return (\r\n    <div style={{ width: 1200, margin: \"10px auto\" }}>\r\n\r\n           <NavLink to=\"/nouveau-cars\">\r\n            <button\r\n            type=\"submit\"\r\n            className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mt-4\">\r\n\r\n            Ajouter un voiture \r\n          </button >\r\n          </NavLink>\r\n\r\n      <table className=\"table-auto m-auto\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"px-4 py-2\">matricule</th>\r\n            <th className=\"px-4 py-2\">marque</th>\r\n            <th className=\"px-4 py-2\">modele</th>\r\n            <th className=\"px-4 py-2\">typecars</th>\r\n            <th className=\"px-4 py-2\">energie</th>\r\n            <th className=\"px-4 py-2\">date</th>\r\n            <th className=\"px-4 py-2\">dernière_vidange</th>\r\n            <th className=\"px-4 py-2\">prochain_vidange</th>\r\n            <th className=\"px-4 py-2\">Kilométrage</th>\r\n            <th className=\"px-4 py-2\" colSpan=\"2\">Operations</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        \r\n          {cars.map(\r\n            ({ matricule, marque, modele, type, energie,date,dernière_vidange}) => (\r\n             \r\n              <tr key={matricule}>\r\n                <td className=\"border px-4 py-2\">{matricule}</td>\r\n                <td className=\"border px-4 py-2\">{marque}</td>\r\n                <td className=\"border px-4 py-2\">{modele}</td>\r\n                <td className=\"border px-4 py-2\">{type}</td>\r\n                <td className=\"border px-4 py-2\">{energie}</td>\r\n                <td className=\"border px-4 py-2\">{date}</td>\r\n                <td className=\"border px-4 py-2\">{dernière_vidange}</td>\r\n                <td className=\"border px-4 py-2\">{dernière_vidange + 10000} km</td>\r\n                {somme = 0 , \r\n                 mission.map (\r\n                  (obj,index) => {\r\n                         \r\n                      if (obj.matricule == matricule){\r\n                        somme = somme + obj.distance \r\n                       \r\n                      } \r\n                  })\r\n                \r\n                }\r\n                \r\n                \r\n                <td className=\"border px-4 py-2\">{somme}</td>\r\n                <td>   <NavLink to={\"/EditCars/\"+matricule}>\r\n                        <button type=\"submit\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 \" >\r\n                            \r\n                          modifier\r\n                        </button >\r\n                        </NavLink>\r\n                </td>\r\n                <td>\r\n                        <button type=\"submit\" className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 \"  onClick={()=>handleDelete(matricule)}>\r\n                            \r\n                           supprimer\r\n                        </button >\r\n                    \r\n                </td>\r\n              </tr>\r\n            )\r\n          )}\r\n            \r\n        </tbody>\r\n      </table>\r\n      <center>\r\n         \r\n      </center> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CARS;\r\n",["221","222"],"D:\\tahrire\\parc-frontend-main\\src\\NewCars.js",[],"D:\\tahrire\\parc-frontend-main\\src\\EditCars.js",["223","224","225","226","227"],"D:\\tahrire\\parc-frontend-main\\src\\Login.js",["228","229","230","231","232"],"D:\\tahrire\\parc-frontend-main\\src\\api\\login.js",[],"D:\\tahrire\\parc-frontend-main\\src\\store\\appContext.js",["233"],"D:\\tahrire\\parc-frontend-main\\src\\store\\flux.js",[],"D:\\tahrire\\parc-frontend-main\\src\\Accueil.js",[],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\index.js",[],["234","235"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\NewMaintenance.js",["236","237"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\CARS.js",["238","239","240","241"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Rapports.js",[],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\api\\missions.js",[],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\App.js",["242","243"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Navbar.js",["244"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Agents.js",["245"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Home.js",["246","247","248","249"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Login.js",["250","251"],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Accueil.js",[],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\useToken.js",[],"C:\\Users\\iheb\\Desktop\\tahrire\\parc-frontend-main\\src\\Entretiens.js",[],{"ruleId":"252","replacedBy":"253"},{"ruleId":"254","replacedBy":"255"},{"ruleId":"252","replacedBy":"256"},{"ruleId":"254","replacedBy":"257"},{"ruleId":"252","replacedBy":"258"},{"ruleId":"254","replacedBy":"259"},{"ruleId":"260","severity":1,"message":"261","line":12,"column":21,"nodeType":"262","messageId":"263","endLine":12,"endColumn":28},{"ruleId":"260","severity":1,"message":"264","line":51,"column":5,"nodeType":"262","messageId":"263","endLine":51,"endColumn":11},{"ruleId":"260","severity":1,"message":"265","line":52,"column":5,"nodeType":"262","messageId":"263","endLine":52,"endColumn":11},{"ruleId":"260","severity":1,"message":"266","line":103,"column":9,"nodeType":"262","messageId":"263","endLine":103,"endColumn":13},{"ruleId":"252","replacedBy":"267"},{"ruleId":"254","replacedBy":"268"},{"ruleId":"260","severity":1,"message":"269","line":4,"column":8,"nodeType":"262","messageId":"263","endLine":4,"endColumn":12},{"ruleId":"260","severity":1,"message":"270","line":107,"column":6,"nodeType":"262","messageId":"263","endLine":107,"endColumn":9},{"ruleId":"252","replacedBy":"271"},{"ruleId":"254","replacedBy":"272"},{"ruleId":"260","severity":1,"message":"273","line":2,"column":8,"nodeType":"262","messageId":"263","endLine":2,"endColumn":12},{"ruleId":"260","severity":1,"message":"274","line":3,"column":8,"nodeType":"262","messageId":"263","endLine":3,"endColumn":18},{"ruleId":"260","severity":1,"message":"275","line":4,"column":8,"nodeType":"262","messageId":"263","endLine":4,"endColumn":22},{"ruleId":"260","severity":1,"message":"276","line":5,"column":8,"nodeType":"262","messageId":"263","endLine":5,"endColumn":14},{"ruleId":"260","severity":1,"message":"277","line":6,"column":8,"nodeType":"262","messageId":"263","endLine":6,"endColumn":16},{"ruleId":"260","severity":1,"message":"278","line":7,"column":8,"nodeType":"262","messageId":"263","endLine":7,"endColumn":18},{"ruleId":"260","severity":1,"message":"279","line":8,"column":8,"nodeType":"262","messageId":"263","endLine":8,"endColumn":14},{"ruleId":"260","severity":1,"message":"280","line":9,"column":8,"nodeType":"262","messageId":"263","endLine":9,"endColumn":19},{"ruleId":"260","severity":1,"message":"281","line":10,"column":8,"nodeType":"262","messageId":"263","endLine":10,"endColumn":21},{"ruleId":"260","severity":1,"message":"282","line":11,"column":8,"nodeType":"262","messageId":"263","endLine":11,"endColumn":17},{"ruleId":"260","severity":1,"message":"283","line":12,"column":8,"nodeType":"262","messageId":"263","endLine":12,"endColumn":18},{"ruleId":"260","severity":1,"message":"269","line":13,"column":8,"nodeType":"262","messageId":"263","endLine":13,"endColumn":12},{"ruleId":"260","severity":1,"message":"284","line":14,"column":8,"nodeType":"262","messageId":"263","endLine":14,"endColumn":15},{"ruleId":"260","severity":1,"message":"285","line":15,"column":8,"nodeType":"262","messageId":"263","endLine":15,"endColumn":16},{"ruleId":"260","severity":1,"message":"286","line":2,"column":36,"nodeType":"262","messageId":"263","endLine":2,"endColumn":46},{"ruleId":"260","severity":1,"message":"287","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":21},{"ruleId":"260","severity":1,"message":"288","line":5,"column":10,"nodeType":"262","messageId":"263","endLine":5,"endColumn":20},{"ruleId":"289","severity":1,"message":"290","line":98,"column":6,"nodeType":"291","endLine":98,"endColumn":8,"suggestions":"292"},{"ruleId":"260","severity":1,"message":"286","line":2,"column":36,"nodeType":"262","messageId":"263","endLine":2,"endColumn":46},{"ruleId":"260","severity":1,"message":"293","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":25},{"ruleId":"289","severity":1,"message":"294","line":52,"column":6,"nodeType":"291","endLine":52,"endColumn":8,"suggestions":"295"},{"ruleId":"260","severity":1,"message":"296","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":16},{"ruleId":"260","severity":1,"message":"286","line":2,"column":36,"nodeType":"262","messageId":"263","endLine":2,"endColumn":46},{"ruleId":"260","severity":1,"message":"297","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":19},{"ruleId":"289","severity":1,"message":"298","line":35,"column":6,"nodeType":"291","endLine":35,"endColumn":8,"suggestions":"299"},{"ruleId":"252","replacedBy":"300"},{"ruleId":"254","replacedBy":"301"},{"ruleId":"260","severity":1,"message":"296","line":4,"column":10,"nodeType":"262","messageId":"263","endLine":4,"endColumn":16},{"ruleId":"302","severity":1,"message":"303","line":121,"column":28,"nodeType":"304","messageId":"305","endLine":121,"endColumn":29},{"ruleId":"306","severity":1,"message":"307","line":123,"column":31,"nodeType":"308","messageId":"309","endLine":123,"endColumn":33},{"ruleId":"310","severity":1,"message":"311","line":125,"column":41,"nodeType":"312","messageId":"313","endLine":125,"endColumn":43},{"ruleId":"252","replacedBy":"314"},{"ruleId":"254","replacedBy":"315"},{"ruleId":"260","severity":1,"message":"286","line":2,"column":36,"nodeType":"262","messageId":"263","endLine":2,"endColumn":46},{"ruleId":"260","severity":1,"message":"316","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":17},{"ruleId":"260","severity":1,"message":"317","line":30,"column":73,"nodeType":"262","messageId":"263","endLine":30,"endColumn":89},{"ruleId":"260","severity":1,"message":"318","line":30,"column":90,"nodeType":"262","messageId":"263","endLine":30,"endColumn":101},{"ruleId":"289","severity":1,"message":"298","line":40,"column":6,"nodeType":"291","endLine":40,"endColumn":8,"suggestions":"319"},{"ruleId":"260","severity":1,"message":"320","line":1,"column":18,"nodeType":"262","messageId":"263","endLine":1,"endColumn":28},{"ruleId":"260","severity":1,"message":"321","line":10,"column":10,"nodeType":"262","messageId":"263","endLine":10,"endColumn":18},{"ruleId":"260","severity":1,"message":"322","line":11,"column":10,"nodeType":"262","messageId":"263","endLine":11,"endColumn":17},{"ruleId":"260","severity":1,"message":"288","line":12,"column":11,"nodeType":"262","messageId":"263","endLine":12,"endColumn":21},{"ruleId":"323","severity":1,"message":"324","line":51,"column":2,"nodeType":"325","messageId":"326","endLine":77,"endColumn":8},{"ruleId":"289","severity":1,"message":"327","line":33,"column":6,"nodeType":"291","endLine":33,"endColumn":8,"suggestions":"328"},{"ruleId":"252","replacedBy":"329"},{"ruleId":"254","replacedBy":"330"},{"ruleId":"260","severity":1,"message":"269","line":4,"column":8,"nodeType":"262","messageId":"263","endLine":4,"endColumn":12},{"ruleId":"260","severity":1,"message":"270","line":107,"column":6,"nodeType":"262","messageId":"263","endLine":107,"endColumn":9},{"ruleId":"260","severity":1,"message":"296","line":4,"column":10,"nodeType":"262","messageId":"263","endLine":4,"endColumn":16},{"ruleId":"302","severity":1,"message":"303","line":121,"column":28,"nodeType":"304","messageId":"305","endLine":121,"endColumn":29},{"ruleId":"306","severity":1,"message":"307","line":123,"column":31,"nodeType":"308","messageId":"309","endLine":123,"endColumn":33},{"ruleId":"310","severity":1,"message":"311","line":125,"column":41,"nodeType":"312","messageId":"313","endLine":125,"endColumn":43},{"ruleId":"260","severity":1,"message":"331","line":18,"column":8,"nodeType":"262","messageId":"263","endLine":18,"endColumn":16},{"ruleId":"260","severity":1,"message":"332","line":20,"column":10,"nodeType":"262","messageId":"263","endLine":20,"endColumn":18},{"ruleId":"260","severity":1,"message":"333","line":10,"column":7,"nodeType":"262","messageId":"263","endLine":10,"endColumn":15},{"ruleId":"260","severity":1,"message":"296","line":3,"column":10,"nodeType":"262","messageId":"263","endLine":3,"endColumn":16},{"ruleId":"260","severity":1,"message":"261","line":12,"column":21,"nodeType":"262","messageId":"263","endLine":12,"endColumn":28},{"ruleId":"260","severity":1,"message":"264","line":51,"column":5,"nodeType":"262","messageId":"263","endLine":51,"endColumn":11},{"ruleId":"260","severity":1,"message":"265","line":52,"column":5,"nodeType":"262","messageId":"263","endLine":52,"endColumn":11},{"ruleId":"260","severity":1,"message":"266","line":103,"column":9,"nodeType":"262","messageId":"263","endLine":103,"endColumn":13},{"ruleId":"260","severity":1,"message":"320","line":1,"column":18,"nodeType":"262","messageId":"263","endLine":1,"endColumn":28},{"ruleId":"260","severity":1,"message":"333","line":61,"column":7,"nodeType":"262","messageId":"263","endLine":61,"endColumn":15},"no-native-reassign",["334"],"no-negated-in-lhs",["335"],["334"],["335"],["334"],["335"],"no-unused-vars","'savePDF' is defined but never used.","Identifier","unusedVar","'sommeC' is assigned a value but never used.","'sommeD' is assigned a value but never used.","'mats' is assigned a value but never used.",["334"],["335"],"'CARS' is defined but never used.","'mat' is defined but never used.",["334"],["335"],"'Home' is defined but never used.","'NewMission' is defined but never used.","'NewMaintenance' is defined but never used.","'Navbar' is defined but never used.","'Rapports' is defined but never used.","'Entretiens' is defined but never used.","'Agents' is defined but never used.","'EditMission' is defined but never used.","'EditEntretien' is defined but never used.","'NewAgents' is defined but never used.","'EditAgents' is defined but never used.","'NewCars' is defined but never used.","'EditCars' is defined but never used.","'useReducer' is defined but never used.","'getMissions' is defined but never used.","'useHistory' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadMissions'. Either include it or remove the dependency array.","ArrayExpression",["336"],"'getMaintenances' is defined but never used.","React Hook useEffect has a missing dependency: 'loadEntretiens'. Either include it or remove the dependency array.",["337"],"'format' is defined but never used.","'getAgents' is defined but never used.","React Hook useEffect has a missing dependency: 'loadagents'. Either include it or remove the dependency array.",["338"],["334"],["335"],"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["334"],["335"],"'getCars' is defined but never used.","'prochain_vidange' is assigned a value but never used.","'Kilométrage' is assigned a value but never used.",["339"],"'useContext' is defined but never used.","'Navigate' is defined but never used.","'Context' is defined but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","React Hook useEffect has a missing dependency: 'state.actions'. Either include it or remove the dependency array.",["340"],["334"],["335"],"'useToken' is defined but never used.","'setToken' is defined but never used.","'navigate' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"341","fix":"342"},{"desc":"343","fix":"344"},{"desc":"345","fix":"346"},{"desc":"345","fix":"347"},{"desc":"348","fix":"349"},"Update the dependencies array to be: [loadMissions]",{"range":"350","text":"351"},"Update the dependencies array to be: [loadEntretiens]",{"range":"352","text":"353"},"Update the dependencies array to be: [loadagents]",{"range":"354","text":"355"},{"range":"356","text":"355"},"Update the dependencies array to be: [state.actions]",{"range":"357","text":"358"},[2031,2033],"[loadMissions]",[1054,1056],"[loadEntretiens]",[612,614],"[loadagents]",[795,797],[1321,1323],"[state.actions]"]